<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>shinoefuhi Official Website</title>
<meta name="description" content="shinoefuhi official website. Live schedule, discography, movie and contact.">

<!-- OGP -->
<meta property="og:title" content="shinoefuhi Official Website">
<meta property="og:description" content="Live / Discography / Movie">
<meta property="og:type" content="website">
<meta property="og:url" content="https://shinoefuhi.com/">
<meta property="og:image" content="https://shinoefuhi.com/ogp.jpg">
<meta name="twitter:card" content="summary_large_image">

<link rel="canonical" href="https://shinoefuhi.com/">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;600&family=Montserrat:wght@300;600&display=swap">
<script src="https://cdn.jsdelivr.net/npm/js-yaml@4/dist/js-yaml.min.js"></script>

<style>
:root{
 --bg:#f8fafd;
 --text:#2c3e50;
 --sub:#7f8c8d;
 --accent:#fdfd96;
}
html{scroll-behavior:smooth}
body{
 margin:0;
 background:var(--bg);
 color:var(--text);
 font-family:'Noto Serif JP',serif;
 line-height:1.8;
}
a{text-decoration:none;color:inherit}
header{
 height:100vh;
 display:flex;
 align-items:center;
 justify-content:center;
 position:relative;
 overflow:hidden;
}
.hero-bg{
 position:absolute;
 inset:0;
 background:url('artist-photo.jpg') center/cover no-repeat;
 filter:brightness(.75);
 transform:scale(1.05);
 z-index:-1;
}
.hero-content{text-align:center;color:#fff}
.main-emblem{
 width:260px;
 animation:float 6s ease-in-out infinite;
}
@keyframes float{
 0%,100%{transform:translateY(0)}
 50%{transform:translateY(-12px)}
}
h1{
 font-family:'Montserrat',sans-serif;
 font-weight:300;
 letter-spacing:.4rem;
}
nav{
 position:sticky;
 top:0;
 backdrop-filter:blur(12px);
 background:rgba(255,255,255,.9);
 padding:18px;
 display:flex;
 justify-content:center;
 gap:40px;
 font-family:'Montserrat',sans-serif;
 font-size:.85rem;
 z-index:100;
}
nav a:hover{color:#4b7bec}
section{
 padding:110px 20px;
 max-width:1000px;
 margin:auto;
}
h2{
 text-align:center;
 font-family:'Montserrat',sans-serif;
 font-weight:300;
 letter-spacing:.3rem;
 margin-bottom:60px;
}
.live-item{
 background:#fff;
 padding:24px;
 margin-bottom:20px;
 border-left:4px solid var(--accent);
 box-shadow:0 8px 20px rgba(0,0,0,.06);
 display:flex;
 flex-wrap:wrap;
 gap:20px;
}
.live-date{
 min-width:140px;
 font-family:'Montserrat',sans-serif;
 font-weight:600;
}
.btn{
 border:1px solid var(--text);
 padding:8px 20px;
 border-radius:30px;
 font-size:.8rem;
 transition:.3s;
}
.btn:hover{
 background:var(--text);
 color:#fff;
}
.video-wrapper{
 position:relative;
 padding-bottom:56.25%;
}
.video-wrapper iframe{
 position:absolute;
 inset:0;
 width:100%;
 height:100%;
 border-radius:6px;
}
.disc-grid{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
 gap:40px;
}
.disc-item{
 background:#fff;
 padding:20px;
 box-shadow:8px 8px 0 rgba(253,253,150,.4);
 text-align:center;
}
.disc-item img{
 width:100%;
 aspect-ratio:1/1;
 object-fit:cover;
 loading:lazy;
}
.social-links{
 display:flex;
 justify-content:center;
 gap:20px;
 font-size:1.4rem;
}
footer{
 text-align:center;
 padding:60px;
 font-size:.75rem;
 color:var(--sub);
}
@media(max-width:768px){
 h1{font-size:2rem}
 .main-emblem{width:200px}
 .live-item{flex-direction:column}
}
</style>
</head>

<body>

<header>
<div class="hero-bg" id="hero-bg"></div>
<div class="hero-content">
<img src="emblem.png" alt="shinoefuhi emblem" class="main-emblem">
<h1>shinoefuhi</h1>
</div>
</header>

<nav aria-label="Main Navigation">
<a href="#news">NEWS / LIVE</a>
<a href="archive.html">ARCHIVE</a>
<a href="#discography">DISCOGRAPHY</a>
<a href="#movie">MOVIE</a>
<a href="#contact">CONTACT</a>
</nav>

<section id="news">
  <h2>NEWS / LIVE</h2> <div id="live-list">
    <p style="text-align:center">Loading...</p>
  </div>

  <div style="text-align:right; margin-top:20px;">
    <a href="archive.html" class="btn">VIEW ARCHIVE <i class="fa-solid fa-arrow-right"></i></a>
  </div>
</section>

<section id="discography">
<h2>DISCOGRAPHY</h2>
<div id="disc-list" class="disc-grid"></div>
</section>

<section id="movie">
<h2>MOVIE</h2>
<div class="video-wrapper">
<iframe title="shinoefuhi official movie"
src="https://www.youtube.com/embed/URuOQ6ymR_Y?autoplay=1&mute=1&loop=1&playlist=URuOQ6ymR_Y"
allowfullscreen></iframe>
</div>
</section>

<section id="contact">
<h2>SNS / CONTACT</h2>
<div class="social-links">
<a href="https://www.youtube.com/@shinoefuhi" target="_blank"><i class="fab fa-youtube"></i></a>
<a href="https://x.com/shinoefuhi" target="_blank"><i class="fa-brands fa-x-twitter"></i></a>
<a href="https://www.instagram.com/shinoefuhi" target="_blank"><i class="fab fa-instagram"></i></a>
</div>
<p style="text-align:center;margin-top:30px">info@shinoefuhi.com</p>
</section>

<footer>&copy; 2026 shinoefuhi.</footer>

<script>
// 設定：自分のリポジトリ名に合わせてください
const REPO = "shinoefuhi/shinoefuhi-site";

async function loadLives() {
    const list = document.getElementById("live-list");
    try {
        // 1. GitHub APIを使ってフォルダ内のファイル一覧を取得
        const res = await fetch(`https://api.github.com/repos/${REPO}/contents/_data/lives`);
        if (!res.ok) throw new Error("Folder not found");
        const files = await res.json();

        // 2. 各ファイルの中身を取得して解析
        const livePromises = files.filter(f => f.name.endsWith('.yml')).map(async (file) => {
            const contentRes = await fetch(file.download_url);
            const yamlText = await contentRes.text();
            return jsyaml.load(yamlText); // YAMLをJavaScriptオブジェクトに変換
        });

        const lives = await Promise.all(livePromises);
        
        // 3. 日付順に並び替え
        lives.sort((a, b) => new Date(a.date) - new Date(b.date));

        const today = new Date().setHours(0, 0, 0, 0);
        const future = lives.filter(l => new Date(l.date) >= today);

        if (!future.length) {
            list.innerHTML = "<p style='text-align:center'>現在予定されているライブはありません。</p>";
            return;
        }

        list.innerHTML = "";
        future.forEach(l => {
            const el = document.createElement("div");
            el.className = "live-item";
            el.innerHTML = `
                <div class="live-date">${l.date.replace(/-/g, '.')}</div>
                <div class="live-info">
                    <strong>${l.title}</strong><br>
                    <span style="color:#777">@ ${l.place}</span><br>
                    <small>${l.open_time ? 'OPEN ' + l.open_time : ''} / ${l.start_time ? 'START ' + l.start_time : ''}</small>
                </div>
                ${l.ticketUrl ? `<a href="${l.ticketUrl}" target="_blank" class="btn">TICKET</a>` : ""}
            `;
            list.appendChild(el);
        });
    } catch (e) {
        console.error(e);
        list.innerHTML = "<p style='text-align:center'>読み込みに失敗しました。しばらく時間を置いてお試しください。</p>";
    }
}

// Discographyは以前のまま（必要に応じて修正してください）
async function loadDiscography() {
    const grid = document.getElementById("disc-list");
    try {
        const res = await fetch("/data/discography.json");
        const discs = await res.json();
        discs.forEach(d => {
            const el = document.createElement("div");
            el.className = "disc-item";
            el.innerHTML = `
                <img src="${d.image}" alt="${d.title}">
                <h3>${d.title}</h3>
                <div class="social-links">
                    ${d.youtube ? `<a href="${d.youtube}"><i class="fab fa-youtube"></i></a>` : ""}
                    ${d.spotify ? `<a href="${d.spotify}"><i class="fab fa-spotify"></i></a>` : ""}
                </div>
            `;
            grid.appendChild(el);
        });
    } catch (e) { console.error(e); }
}

loadLives();
loadDiscography();
</script>
</body>
</html>
